apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: finance-tracker-base

namespace: finance-tracker

resources:
  # Namespace
  - namespace.yaml
  
  # Shared configs and secrets
  - configmap.yaml
  - secrets.yaml
  
  # Network policies
  - networkpolicy.yaml
  
  # Ingress
  - ingress.yaml
  
  # PostgreSQL
  - postgres/configmap.yaml
  - postgres/statefulset.yaml
  - postgres/service.yaml
  
  # Redis
  - redis/pvc.yaml
  - redis/deployment.yaml
  - redis/service.yaml
  
  # Auth Service
  - auth-service/serviceaccount.yaml
  - auth-service/deployment.yaml
  - auth-service/service.yaml
  - auth-service/hpa.yaml

commonLabels:
  app.kubernetes.io/part-of: finance-tracker
  app.kubernetes.io/managed-by: kustomize
